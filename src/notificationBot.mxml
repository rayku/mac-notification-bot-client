<?xml version="1.0" encoding="utf-8"?>
<s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009"
					   xmlns:s="library://ns.adobe.com/flex/spark"
					   xmlns:mx="library://ns.adobe.com/flex/mx"
					   showStatusBar="false" xmlns:notificationBot="com.rayku.notificationBot.*"
					   backgroundColor="#1D5B8D"
					   >
	<fx:Style source="styles/global.css" />
	
	<fx:Script>
		<![CDATA[
			

            [Bindable]
            private var email:String;
            [Bindable]
            private var token:String;


			
			private function logged(email:String, accessToken:String):void{
                viewStack.selectedChild = main;
                this.email = email;
                this.token = accessToken;
			}
		]]>
	</fx:Script>

    <mx:ViewStack id="viewStack">
        <s:NavigatorContent id="login">
            <notificationBot:login onLogin="{logged}" />
        </s:NavigatorContent>
        <s:NavigatorContent id="main">
            <notificationBot:notificationArea email="{email}" token="{token}" />
        </s:NavigatorContent>
    </mx:ViewStack>

</s:WindowedApplication>
